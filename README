
CCAST v 1.04
-------------

H. Motteler, 14 Aug 2014


Overview
---------

CCAST is software to take level zero data from the Cross-track
Infrared Sounder (CrIS), a Fourier transform spectrometer on the
Suomi NPP and JPSS weather satellites, and produce high-quality
calibrated radiances.  It is written primarily in Matlab, allowing
for easy interaction, modification, and data visualization.  Input
is a CCSDS packet stream, typically with an HDF5 wrapper, and the
output is Matlab-format HDF5.


Installation 
-------------

 (1) get a new copy or update an existing repo
      - new copy: "git clone https://github.com/strow/ccast.git"
      - update an existing repo: "git pull origin master"

 (2) compile the interferogram reader
      - start matlab 
      - cd to ccast/readers/MITreader380a/CrIS
      - mex bit_unpack_all.c

 (3) download or rebuild the SRF tabulations.  source/mkSRFrun.m
     gives an example for regular res with typical recent values.
     This calculation is relatively slow, and the resulting files
     need to be copied to ccast/inst_data.  To download a recent
     version of this data, go to

       http://asl.umbc.edu/pub/data/ccast/inst_data/

     For regular resolution, download

       SRF_v33aLR_LW.mat     v33a focal plane regular res LW
       SRF_v33aLR_MW.mat     v33a focal plane regular res MW
       SRF_v33aLR_SW.mat     v33a focal plane regular res SW

     and install these files in ccast/inst_data

 (4) edit paths in source/ccast_prepro.m and source/ccast_main.m
     as needed for the local environment.  This step is not needed
     to run the demo, described below.


Testing
--------

Before starting, read doc/ccast_intro.pdf to understand what the
test is going to do.

The versions of ccast_main and ccast_prepro in ccast/demo have paths
set for the demo.  Sample NOAA RDR (level 0) and GCRSO (geo) files for
1 Apr 2014 are available at

  http://asl.umbc.edu/pub/data/ccast/demo/rdr60_hdf/2014/091/
  http://asl.umbc.edu/pub/data/ccast/demo/sdr60_hdf/2014/091/   

The RDR files are at the first URL and the geo files at the second.
The files there should be copied to the corresponding directories in
ccast/demo,

  ccast/demo/rdr60_hdf/2014/091/
  ccast/demo/sdr60_hdf/2014/091/

To run the demo, start matlab and cd to ccast/demo.  To test the
preprocessor for the 1 Apr 2014 sample data, give the commands

  more off
  ccast_prepro(91, 91, 2014)

This will produce a lot of annoying status messages from the MIT
reader, and if the run is successful will leave matlab-format RDR
and summary data in

  rdr60_mat/2014/091/
  daily_mat/2014/

Now you can run the main ccast processing for 1 Apr 2014,

  ccast_main(91, 2014)

This should produce a one-line status message per granule, and will
leave data in

  sdr60_mat/2014/091/


Documentation
--------------

  doc/ccast_intro.pdf  - an overview of design and project status
  doc/ccast_eqns.pdf   - intro to the ILS and calibration equations
  doc/matlab_sdr.txt   - the matlab SDR format field definitions
  doc/finterp.pdf      - some notes on Fourier interpolation
  doc/status.txt       - ccast status report as of 12 Dec 2013

  source/README        - a list source functions and scripts
  motmsc/README        - a list of test and development scripts

There are also detailed comments at the start of most of the major
and many of the minor procedures.


Top level directories
----------------------

  docs       - documentation
  demo       - demo top level config
  source     - main source directory
  davet      - Dave Tobin/UW components
  motmsc     - test and development
  runs       - batch processing scripts
  readers    - MIT reader with local mods
  inst_data  - numeric filter and tabulated SRFs

